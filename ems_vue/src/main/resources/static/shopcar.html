<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>购物车</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="css/style(2).css">

</head>
<body>
<div id="wrap">
    <div class="carhand">
        <div class="carhand-0">
            <div class="carhand-1">
                <a href="index.html"> <img src="./mi/img/milog.PNG" style="margin: 15px 15px"></a>
                <h2>我的购物车</h2>
                <p>温馨提示：产品是否购买成功，以最终下单为准哦，请尽快结算</p>
                <div style="margin-left: 400px;">
                    <a href="login.html" style="text-decoration: none;color: blue">登录</a>
                    <span>|</span>
                    <a href="regist.html" style="text-decoration: none;color: blue">注册</a>
                </div>
            </div>
        </div>
    </div>

    <div class="corbody">
        <table class="table">
            <tr class="car-header" style="border-bottom: solid 1px black">
                <td style="width: 50px">
                    <input type="checkbox"> 全选
                </td>
                <td style="width: 350px">

                </td>
                <td>
                    商品名称
                </td>
                <td>
                    单价
                </td>
                <td>
                    数量
                </td>
                <td>
                    小计
                </td>
                <td>
                    操作
                </td>
            </tr>
            <tr v-for="(shopcar,index) in shopcars" :key="shopcar.id" class="car-foot">
                <td style="width: 100px;">
                    <input type="checkbox">
                </td>
                <td style="width: 350px; margin: auto">
                    <img :src="'/ems_vue/'+shopcar.path" style="height: 100px; width: 100px">
                </td>
                <td>
                    {{shopcar.name}}
                </td>
                <td>
                    {{shopcar.salary}}
                </td>
                <td>
                    <div class="car-num">
                        <p style="width: 25px; height: 25px; border: solid 1px; font-size: 20px; text-align: center; border-right: 0">
                            -</p>
                        <input type="text" value="1"
                               style="width: 50px; height: 25px; border: solid 1px; font-size: 20px; text-align: center; border-left: 0; border-right: 0">
                        <p style="width: 25px; height: 25px; border: solid 1px; font-size: 20px; text-align: center; border-left: 0">
                            +</p>
                    </div>
                </td>
                <td style="color: #ff6700">
                    {{shopcar.salary}}
                </td>
                <td>
                    <a href="javascript:;" @click="delEmp(shopcar.id)">×</a>
                </td>
            </tr>
        </table>
    </div>
    <div style="margin: 0 auto;width: 1226px;height: 100px" class="car-all">
        <input type="button" style="line-height: 100px" value="添加商品" onclick="location='addCar.html'"/>
        <div style="background: #ff6700;width: 200px;height: 50px;float: right;text-align: center;line-height: 50px">
            去结算
        </div>
    </div>

    <div class="mor">
        <div class="shops1">
            <div>
                <img src="./mi/img/zhi.webp" width="150px" height="150px">
                <p style="margin-top: 20px">日常元素抽纸 青春版 24包/箱</p>
                <p style="color: #ff6700; margin-top: 20px">27.9元</p>
                <p style="color: gray; margin-top: 20px">95.1万人好评</p>
            </div>
            <div>
                <img src="./mi/img/yagao.webp" width="150px" height="150px">
                <p style="margin-top: 20px">贝医生防蛀健齿牙膏</p>
                <p style="color: #ff6700; margin-top: 20px">12.9元</p>
                <p style="color: gray; margin-top: 20px">64.7万人好评</p>
            </div>
            <div>
                <img src="./mi/img/dianchi.jpg" width="150px" height="150px">
                <p style="margin-top: 20px">7号彩虹电池（10粒装）</p>
                <p style="color: #ff6700; margin-top: 20px">9.9元</p>
                <p style="color: gray; margin-top: 20px">218.6万人好评</p>
            </div>
            <div>
                <img src="./mi/img/yashua.jpg" width="150px" height="150px">
                <p style="margin-top: 20px">贝医生巴氏牙刷</p>
                <p style="color: #ff6700; margin-top: 20px">39.9元</p>
                <p style="color: gray; margin-top: 20px">39.2万人好评</p>
            </div>
            <div>
                <img src="./mi/img/dianchi（5）.jpg" width="150px" height="150px">
                <p style="margin-top: 20px">5号彩虹电池（10粒装）</p>
                <p style="color: #ff6700; margin-top: 20px">9.9元</p>
                <p style="color: gray; margin-top: 20px">256.8万人好评</p>
            </div>
        </div>
    </div>
    <div class="o1">


        <div class="e1">
            <a href=""><img src="login/weixiu.JPG" >预约维修服务</a>
            <span>|</span>
            <a href="" style="margin-left: 80px;"><img src="login/qitian.JPG">7天无理由退货</a>
            <span>|</span>
            <a href=""style="margin-left: 80px;"><img src="login/shiwut.JPG" >15天免费换货</a>
            <span>|</span>
            <a href=""style="margin-left: 80px;"><img src="login/baoyou.JPG" >满69包邮</a>
            <span>|</span>
            <a href=""style="margin-left: 80px;"><img src="login/shouhou.JPG" >520余家售后网点</a>

        </div>
        <span id="s1">
			_________________________________________________________________________________________________________________________________________________________________________________
		</span>
        <div class="e2">
			<span id="">
				帮助中心
			</span>
            <span id="" style="margin-left: 100px;">
				服务支持
			</span>
            <span id="" style="margin-left: 100px">
				线下门店
			</span>
            <span id="" style="margin-left: 100px">
				关于小米
			</span>
            <span id="" style="margin-left: 100px">
				关于我们
			</span>
            <span id="" style="margin-left: 100px">
				特色服务
			</span>
            <span id="a1" style="margin-left: 120px;font-size: 20px;color: orange;">
				400-100-5678
			</span>
        </div>
        <div class="e3">
            <li id="l1">
                <a href="">账户管理</a>
                <a href="" style="margin-left: 98px;">售后政策</a>
                <a href="" style="margin-left: 100px;">小米之家</a>
                <a href="" style="margin-left: 98px;">了解小米</a>
                <a href="" style="margin-left: 98px;">新浪微博</a>
                <a href="" style="margin-left: 100px;">F码通道</a>
                <span id="a2" style="margin-left: 130px;font-size: 10px;color: #616161; " >
				8:00-18:00(仅收市话费)
				</span>
            </li>
            <li style="margin-top: 10px;">
                <a href="" >购物指南</a>
                <a href="" style="margin-left: 98px;">自助服务</a>
                <a href="" style="margin-left: 100px;">服务网点</a>
                <a href="" style="margin-left: 98px;">加入小米</a>
                <a href="" style="margin-left: 98px;">官方微信</a>
                <a href="" style="margin-left: 100px;">礼物码</a>
                <a href="" style="margin-left: 150px;"> <img src="login/xiaotupiam.png" style="vertical-align: middle;">人工客服</a>
            </li>
            <li style="margin-top: 10px;">
                <a href="" >订单操作</a>
                <a href="" style="margin-left: 98px;">相关下载</a>
                <a href="" style="margin-left: 100px;">授权体验店专区</a>
                <a href="" style="margin-left: 62px;">投资者关系</a>
                <a href="" style="margin-left: 87px;">联系我们</a>
                <a href="" style="margin-left: 100px;">防伪查询</a>
                <span id="" style="margin-left: 130px;font-size: 10px;color: #616161;vertical-align: middle;">
					关注小米：
					<a href=""><img src="login/weibo.png" style="width: 30px;height: 30px;vertical-align: middle;" ></a>
					<a href=""><img src="login/weixin.png" style="width: 30px;height: 30px;vertical-align: middle;"></a>
				</span>


            </li>
            <li style="margin-top: 10px;">
                <a href=""style="margin-left: 466px;">企业社会责任</a>
                <a href=""style="margin-left: 72px;">公益基金会</a>
            </li>
            <li style="margin-top: 10px;">
                <a href=""style="margin-left: 466px;">廉洁举报</a>

            </li>
        </div>
    </div>
    <div class="e4" >
        <div >
            <img src="login/xiaomi1.png"style="margin-left: 150px;float: left;margin-bottom: 80px;" >
        </div>
        <div style="width: 1500px">


			<span>
				<a href="" >小米商城</a>
				<span>|</span>
				<a href="">MIUI</a>
				<span>|</span>
				<a href="">米家</a>
				<span>|</span>
				<a href="">多看</a>
				<span>|</span>
				<a href="">游戏</a>
				<span>|</span>
				<a href="">政企服务</a>
				<span>|</span>
				<a href="">小米天猫店</a>
				<span>|</span>
				<a href="">小米集团隐私政策</a>
				<span>|</span>
				<a href="">小米公司儿童信息保护规则</a>
				<span>|</span>
				<a href="">小米商城隐私政策</a>
				<span>|</span>
				<a href="">小米商城用户协议</a>
				<span>|</span>
				<a href="">问题反馈</a>
				<span>|</span>
				<a href="">Select Location</a>
				<span>|</span>
				<div>
				<a href="">北京互联网法院法律服务工作站</a>
				<span>|</span>
				<a href="">中国消费者协会</a>
				<span>|</span>
				<a href="">北京市消费者协会</a>
				</div>
				<div id="">
					<span>
						<a href="mi.com">&copy;mi.com</a>
						<span style="color: #A9A9A9;
				font-size: 5px;">
							京ICP证110507号
						</span>
						<a href="">京ICP备10046444号</a>
						<a href=""> 京公网安备11010802020134号</a>
						<a href="">京网文[2020]0276-042号</a>
					</span>
					<div id="">
						<span>
							<a href="">（京）网械平台备字（2018）第00005号</a>
							<a href=""> 互联网药品信息服务资格证 (京)-非经营性-2014-0090</a>
							<a href="">营业执照</a>
							<a href="">医疗器械质量公告</a>
						</span>
						<div>
							<span>
								<a href="">增值电信业务许可证</a>
								<span style="color:  #A9A9A9;font-size: 5px;">网络食品经营备案 京食药网食备202010048</span>
								<a href="">食品经营许可证</a>
							</span>
						</div>
						<div >
							<span style="color:  #A9A9A9;
				font-size: 5px;">
								违法和不良信息举报电话：171-5104-4404 知识产权侵权投诉 本网站所列数据，除特殊说明，所有数据均出自我司实验室测试
							</span>
						</div>
						<div >
							<a href=""><img src="login/truste.png" style="width: 100px;height: 30px;"></a>
							<a href=""><img src="login/v-logo-2.png" style="width: 100px;height: 30px;"></a>
							<a href=""><img src="login/icon3.png" style="width: 100px;height: 30px;"></a>
							<a href=""><img src="login/ba10428a4f9495ac310fd0b5e0cf8370.png"style="width: 100px;height: 30px;" ></a>
							<a href=""><img src="login/90c09d24960bb2bb838434d92003a0cd.png" style="width: 100px;height: 30px;"></a>
						</div>
					</div>
				</div>
			</span>
        </div>
        <div class="e5" style="margin-top: 40px;text-align: center;">
			<span >
				让全球每个人都能享受科技带来的美好生活
			</span>
        </div>
    </div>
</div>
</body>
</html>
<script src="/ems_vue/js/vue.js"></script>
<script src="/ems_vue/js/axios.min.js"></script>
<script>
    var app = new Vue({
        el: "#wrap",
        data: {  //数据
            user: {
                realname: "",
            },//用来存放用户登录信息
            shopcars: [],
        },
        methods: { //自定义函数
            //处理安全退出
            logout() {
                localStorage.removeItem("user");
                location.reload(true);//刷新页面
            },
            //删除商品信息方法
            delEmp(id) {
                if (window.confirm("确定要删除这条商品信息吗?")) {
                    var _this = this;
                    axios.get("http://localhost:8989/ems_vue/shopcar/delete?id=" + id).then(res => {
                        if (res.data.state) {
                            alert(res.data.msg + ",点击确定刷新数据!");
                            _this.findAll();//重新加载数据
                        } else {
                            alert(res.data.msg);
                        }
                    });
                }
            },
            //查询商品列表方法
            findAll() {
                var _this = this;
                axios.get("http://localhost:8989/ems_vue/shopcar/findAll").then(res => {
                    _this.shopcars = res.data.records;
                });
            }
        },

        created() {//生命周期函数
            var userString = localStorage.getItem("user");
            if (userString) {
                this.user = JSON.parse(userString);
            } else {
                alert("您尚未登录,点击确定跳转至登录页面!");
                location.href = "/ems_vue/login.html";
            }
            //查询所有信息
            this.findAll();
        }
    });
</script>